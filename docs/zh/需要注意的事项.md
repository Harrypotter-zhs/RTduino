## 1.启用PWM不能调用pinMode(led_pin, OUTPUT) 否则pwm会失效
```c
void setup() {
  //Declaring LED pin as output
  //pinMode(led_pin, OUTPUT); //不能设置为OUTPUT，否则PWM会失效
}
void loop() {
  //Fading the LED
  for(int i=0; i<255; i++){
    analogWrite(led_pin, i);
    delay(5);
  }
  for(int i=255; i>0; i--){
    analogWrite(led_pin, i);
    delay(5);
  }
}
```

因为底层已经将对应的IO设置为模拟输入或者复用推挽，结果pinMode之后把IO模式改成了纯输入输出，因此不好使了。
不需要特别修正，只需要知道调用analogRead和analogWrite的时候不需要设置pinMode即可。一旦调用pinMode，该引脚将丧失analogWrite或者analogRead功能，后续只能当做普通IO使用。
Arduino [官方文档](https://www.arduino.cc/reference/en/language/functions/analog-io/analogwrite/)也是这么建议的：
``` markdown
You do not need to call pinMode() to set the pin as an output before calling analogWrite().
The analogWrite function has nothing to do with the analog pins or the analogRead function.
```

## 2 扩展API
以下三个函数为非Arduino-AVR中存在，但是在Arduino-STM32中扩展：
### 2.1 Arduino其他生态中扩展的API（如STM32、ESP32）
analogReadResolution()

analogWriteResolution()

analogWriteFrequency()  

### 2.2 RTduino扩展API

mapFloat() 双精度浮点映射

## 3 包含Arduino.h头文件
调用到Arduino相关函数和宏的源文件，请包含Arduino.h头文件
![cannot_find_setuploop](https://user-images.githubusercontent.com/34888354/172033174-a68d06c9-b7d9-43c8-b26a-3aa0e47c3e51.png)
![includearduino](https://user-images.githubusercontent.com/34888354/172033184-339e902d-23fd-4e59-8d05-198c3397c80a.png)

## 4 Serial.begin
目前Serial.begin设置波特率是无效的，串口的波特率跟随RT-Thread的串口设备框架设置的波特率走，默认是115200.
换句话说，即便Serial.begin(9600), 串口的波特率依然是115200

## 5. Keil AC5
如果使用Keil AC5环境，需要勾选GNU extension。AC6不需要。
